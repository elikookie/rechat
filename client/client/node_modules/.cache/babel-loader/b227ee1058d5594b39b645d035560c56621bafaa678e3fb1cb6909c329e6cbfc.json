{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\rechat\\\\client\\\\client\\\\src\\\\pages\\\\home\\\\messages.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport styles from './styles.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Messages = ({\n  socket\n}) => {\n  _s();\n  const [messagesRecieved, setMessagesReceived] = useState([]);\n\n  // Runs whenever a socket event is recieved from the server\n  useEffect(() => {\n    socket.on('receive_message', data => {\n      console.log(data);\n      setMessagesReceived(state => [...state, {\n        message: data.message,\n        username: data.username,\n        __createdtime__: data.__createdtime__\n      }]);\n    });\n\n    // Remove event listener on component unmount\n    return () => socket.off('receive_message');\n  }, [socket]);\n\n  // dd/mm/yyyy, hh:mm:ss\n  function formatDateFromTimestamp(timestamp) {\n    const date = new Date(timestamp);\n    return date.toLocaleString();\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.messagesColumn,\n    children: messagesRecieved.map((msg, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.message,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.msgMeta,\n          children: msg.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.msgMeta,\n          children: formatDateFromTimestamp(msg.__createdtime__)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: styles.msgText,\n        children: msg.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this)]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 11\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 7\n  }, this);\n};\n_s(Messages, \"3rIfIssNvQTmqd6RSEuafKtl6hA=\");\n_c = Messages;\nexport default Messages;\nvar _c;\n$RefreshReg$(_c, \"Messages\");","map":{"version":3,"names":["useState","useEffect","styles","jsxDEV","_jsxDEV","Messages","socket","_s","messagesRecieved","setMessagesReceived","on","data","console","log","state","message","username","__createdtime__","off","formatDateFromTimestamp","timestamp","date","Date","toLocaleString","className","messagesColumn","children","map","msg","i","style","display","justifyContent","msgMeta","fileName","_jsxFileName","lineNumber","columnNumber","msgText","_c","$RefreshReg$"],"sources":["D:/Projects/rechat/client/client/src/pages/home/messages.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport styles from './styles.module.css';\r\n\r\nconst Messages = ({ socket }) => {\r\n    const [messagesRecieved, setMessagesReceived] = useState([]);\r\n  \r\n    // Runs whenever a socket event is recieved from the server\r\n    useEffect(() => {\r\n      socket.on('receive_message', (data) => {\r\n        console.log(data);\r\n        setMessagesReceived((state) => [\r\n          ...state,\r\n          {\r\n            message: data.message,\r\n            username: data.username,\r\n            __createdtime__: data.__createdtime__,\r\n          },\r\n        ]);\r\n      });\r\n  \r\n      \r\n      // Remove event listener on component unmount\r\n      return () => socket.off('receive_message');\r\n    }, [socket]);\r\n  \r\n    // dd/mm/yyyy, hh:mm:ss\r\n    function formatDateFromTimestamp(timestamp) {\r\n      const date = new Date(timestamp);\r\n      return date.toLocaleString();\r\n    }\r\n  \r\n    return (\r\n      <div className={styles.messagesColumn}>\r\n        {messagesRecieved.map((msg, i) => (\r\n          <div className={styles.message} key={i}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n              <span className={styles.msgMeta}>{msg.username}</span>\r\n              <span className={styles.msgMeta}>\r\n                {formatDateFromTimestamp(msg.__createdtime__)}\r\n              </span>\r\n            </div>\r\n            <p className={styles.msgText}>{msg.message}</p>\r\n            <br />\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  export default Messages;"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,MAAM,MAAM,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzC,MAAMC,QAAQ,GAAGA,CAAC;EAAEC;AAAO,CAAC,KAAK;EAAAC,EAAA;EAC7B,MAAM,CAACC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;;EAE5D;EACAC,SAAS,CAAC,MAAM;IACdK,MAAM,CAACI,EAAE,CAAC,iBAAiB,EAAGC,IAAI,IAAK;MACrCC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;MACjBF,mBAAmB,CAAEK,KAAK,IAAK,CAC7B,GAAGA,KAAK,EACR;QACEC,OAAO,EAAEJ,IAAI,CAACI,OAAO;QACrBC,QAAQ,EAAEL,IAAI,CAACK,QAAQ;QACvBC,eAAe,EAAEN,IAAI,CAACM;MACxB,CAAC,CACF,CAAC;IACJ,CAAC,CAAC;;IAGF;IACA,OAAO,MAAMX,MAAM,CAACY,GAAG,CAAC,iBAAiB,CAAC;EAC5C,CAAC,EAAE,CAACZ,MAAM,CAAC,CAAC;;EAEZ;EACA,SAASa,uBAAuBA,CAACC,SAAS,EAAE;IAC1C,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAACF,SAAS,CAAC;IAChC,OAAOC,IAAI,CAACE,cAAc,CAAC,CAAC;EAC9B;EAEA,oBACEnB,OAAA;IAAKoB,SAAS,EAAEtB,MAAM,CAACuB,cAAe;IAAAC,QAAA,EACnClB,gBAAgB,CAACmB,GAAG,CAAC,CAACC,GAAG,EAAEC,CAAC,kBAC3BzB,OAAA;MAAKoB,SAAS,EAAEtB,MAAM,CAACa,OAAQ;MAAAW,QAAA,gBAC7BtB,OAAA;QAAK0B,KAAK,EAAE;UAAEC,OAAO,EAAE,MAAM;UAAEC,cAAc,EAAE;QAAgB,CAAE;QAAAN,QAAA,gBAC/DtB,OAAA;UAAMoB,SAAS,EAAEtB,MAAM,CAAC+B,OAAQ;UAAAP,QAAA,EAAEE,GAAG,CAACZ;QAAQ;UAAAkB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACtDjC,OAAA;UAAMoB,SAAS,EAAEtB,MAAM,CAAC+B,OAAQ;UAAAP,QAAA,EAC7BP,uBAAuB,CAACS,GAAG,CAACX,eAAe;QAAC;UAAAiB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC,eACNjC,OAAA;QAAGoB,SAAS,EAAEtB,MAAM,CAACoC,OAAQ;QAAAZ,QAAA,EAAEE,GAAG,CAACb;MAAO;QAAAmB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC/CjC,OAAA;QAAA8B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC;IAAA,GAR6BR,CAAC;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OASjC,CACN;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV,CAAC;AAAC9B,EAAA,CA5CEF,QAAQ;AAAAkC,EAAA,GAARlC,QAAQ;AA8CZ,eAAeA,QAAQ;AAAC,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}